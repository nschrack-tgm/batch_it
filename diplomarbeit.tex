%%-----------------------------------------------------------------------
% Loading the packages and classes
%%-----------------------------------------------------------------------

\documentclass[12pt,oneside,a4paper,final]{book}%
\usepackage{a4}%                        %% Verwendet mehr Platz auf einer A4 Seite als Option a4paper in book
\usepackage[german, ngerman, english]{babel}%    %% Babel Sprachen
\usepackage[utf8]{inputenc}%          %% input encoder für umlaute usw.
\usepackage[T1]{fontenc}
\usepackage{amssymb}%                   %% AMS Symbole
\usepackage{amsmath}%                   %% AMS Math Funktionen
\usepackage{amsfonts}%
\usepackage[Sonny]{fncychap}%           %% Chapter Style
\usepackage[english,noprefix]{nomencl}%  %% Nomenclature (Symbolverzeichnis)
\usepackage{makeidx}%                   %% Index
\usepackage{graphicx}%                  %% Grafiken
\graphicspath{{img/}}
\DeclareGraphicsExtensions{.pdf,.jpeg,.png,.jpg}
\usepackage{psfrag}%                    %% Tex-Schriftarten und Formeln in EPS-Grafiken
\usepackage{color}
\usepackage{nicefrac}
\usepackage{ifthen}
\usepackage{fancyhdr}
\usepackage{subfigure}
\usepackage[xindy, acronym, toc]{glossaries}
\usepackage{cite}
\usepackage{listings}
\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage{rotating}
\usepackage{todonotes}
\usepackage{csquotes}
\usepackage{framed}
\usepackage{placeins}
\usepackage{afterpage}
\usepackage{eurosym}
\usepackage{acronym}


\input{tex/acronyms}
%%-----------------------------------------------------------------------
% Using the Hyperref-Package for PDF-Online Version
%%-----------------------------------------------------------------------


\def\usehyperref{1}

\ifnum\usehyperref=1
\usepackage[pdftex=true,
  pdftitle={Diplomarbeit1},
  pdfauthor={AUTOR},
  bookmarksopen,
  colorlinks,
  citecolor=black,
  linkcolor=black,
  breaklinks,
  urlcolor=black
]{hyperref}%
\fi



%%-----------------------------------------------------------------------
% Rearranging Nomenclature
%%-----------------------------------------------------------------------

\renewcommand{\nomname}{Abbildungsverzeichnis}
%\renewcommand{\nompreamble}{The following list only contains symbols
%  that are used continuously throughout the text. Local symbols are
%  not listed.}
\renewcommand{\nomgroup}[1]{
 \ifthenelse{\equal{#1}{A}}{\item[\textbf{General symbols}\bigskip]}{
 \ifthenelse{\equal{#1}{B}}{\item[\bigskip\bigskip\textbf{Chapter 2}\bigskip]}{
 \ifthenelse{\equal{#1}{C}}{\item[\bigskip\bigskip\textbf{Chapter 3}\bigskip]}{
 \ifthenelse{\equal{#1}{D}}{\item[\bigskip\bigskip\textbf{Chapter 4}\bigskip]}{
 \ifthenelse{\equal{#1}{E}}{\item[\bigskip\bigskip\textbf{Chapter 5}\bigskip]}{
 \ifthenelse{\equal{#1}{F}}{\item[\bigskip\bigskip\textbf{Appendix}\bigskip]}{
 }}}}}}}
\makenomenclature



%%-----------------------------------------------------------------------
% Makes Bibliography available in Winedt
%%-----------------------------------------------------------------------

%GATHER{bib_kiefer.bib}


%%-----------------------------------------------------------------------
% Definition of possible environments
%%-----------------------------------------------------------------------

\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{acknowledgement}{Acknowledgement}[chapter]
\newtheorem{algorithm}{Algorithm}[chapter]
\newtheorem{axiom}{Axiom}[chapter]
\newtheorem{case}{Case}[chapter]
\newtheorem{claim}{Claim}[chapter]
\newtheorem{conclusion}{Conclusion}[chapter]
\newtheorem{condition}{Condition}[chapter]
\newtheorem{conjecture}{Conjecture}[chapter]
\newtheorem{corollary}{Corollary}[chapter]
\newtheorem{criterion}{Criterion}[chapter]
\newtheorem{definition}{Definition}[chapter]
\newtheorem{example}{Example}[chapter]
\newtheorem{exercise}{Exercise}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\newtheorem{notation}{Notation}[chapter]
\newtheorem{problem}{Problem}[chapter]
\newtheorem{proposition}{Proposition}[chapter]
\newtheorem{remark}{Remark}[chapter]
\newtheorem{solution}{Solution}[chapter]
\newtheorem{summary}{Summary}[chapter]
\newenvironment{proof}[1][Proof]{\noindent\textbf{#1.} }{\ \rule{0.5em}{0.5em}}

\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}




%%-----------------------------------------------------------------------
% Marking of overfull boxes and increasing of tolerances
%%-----------------------------------------------------------------------

% Für die Final-Version die nächste Zeile auskommentieren um schawarze Balken (TU-Logo im Titelblatt) zu ignorieren!
\overfullrule=10pt%                     %% Markiert überfüllte Boxen. z.b. hbox overfull (Evtl. nicht im pdf sichtbar!!!!)
\hfuzz=1pt%                             %% Toleranz bei hbox overfull erhöht 1pt entspr. ca. 1/3 mm


%%-----------------------------------------------------------------------
% Counter
%%-----------------------------------------------------------------------


\setcounter{secnumdepth}{3}%
\setcounter{tocdepth}{3}%



% Clear Header Style on the Last Empty Odd pages
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else%
    \hbox{}%
    \thispagestyle{empty}%              % Empty header styles
    \newpage%
    \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

%%-----------------------------------------------------------------------
% Avoid indents
%%-----------------------------------------------------------------------

\setlength{\parindent}{0pt}

%%-----------------------------------------------------------------------
%% Hyphenation for german abstract TODO
%%-----------------------------------------------------------------------

\hyphenation{Fa-mi-lie
             Ski-bil-dung
             Ar-beits-wal-ze
             neg-lec-ted
             se-par-ate
             di-men-sio-nal
             her-r\"uhren
             N\"a-herungs-l\"os-ungen
             wissen-schaft-licher
             Regelungs-technik
             re-con-fi-gur-abili-ty
             manage-ment
             manu-facturing
             not-wendigen
             Steu-er-ung
             }


%%-----------------------------------------------------------------------
% Colored grafix
% 1 = color
% 0 = grey
%%-----------------------------------------------------------------------


\def\colorsw{1}

%%-----------------------------------------------------------------------
% Additional remarks
% 1 = with remarks
% 0 = without remarks
%%-----------------------------------------------------------------------


\def\addnotes{0}

%%-----------------------------------------------------------------------
% Listing styles
%%-----------------------------------------------------------------------


\definecolor{Maroon}{rgb}{0.5,0,0}

\lstdefinestyle{ST}
{
	language=C,
	frame=trbl,
	%numbers=left, % Nummerierung
	%numberstyle=\tiny, % kleine Zeilennummern
	breaklines=true,
	showstringspaces=false,
	breakatwhitespace=true,
	escapeinside={(*@}{@*)},
	commentstyle=\color{ForestGreen},
	morekeywords={BOOL, VAR, END_VAR, LD, CR, ANDN, ST, AND, NOT, OR, INITIAL_STEP, END_STEP, TRANSITION, FROM, END_TRANSITION, STEP, TO, IF, ELSIF, END_IF, THEN, CASE, END_CASE},
	keywordstyle=\color{Blue},
	stringstyle=\color{Maroon},
  basicstyle=\ttfamily\footnotesize,
	backgroundcolor=\color{Yellow!5}
}

\lstdefinestyle{XML}
{
	language=xml,
	frame=trbl,
	tabsize=2,
  basicstyle=\ttfamily\footnotesize,
  morestring=[s]{"}{"},
  morecomment=[s]{<!--}{-->},
  commentstyle=\color{ForestGreen},
  moredelim=[s][\color{Red}]{\ }{=},
  stringstyle=\color{Blue},
	tagstyle=\color{Maroon},
	backgroundcolor=\color{Yellow!5}
}

\lstdefinestyle{csharp}
{
	language=[Sharp]C,
	frame=trbl,
	%numbers=left, % Nummerierung
	%numberstyle=\tiny, % kleine Zeilennummern
	breaklines=true,
	showstringspaces=false,
	breakatwhitespace=true,
	escapeinside={(*@}{@*)},
	commentstyle=\color{ForestGreen},
	morekeywords={partial, var, value, get, set},
	keywordstyle=\color{Blue},
	stringstyle=\color{Maroon},
  basicstyle=\ttfamily\footnotesize,
	backgroundcolor=\color{Yellow!5}
}

\lstdefinestyle{VBA}
{
	language=[Visual]Basic,
	frame=trbl,
	breaklines=true,
	showstringspaces=false,
	breakatwhitespace=true,
	commentstyle=\color{ForestGreen},
	keywordstyle=\color{Blue},
	stringstyle=\color{Maroon},
  basicstyle=\ttfamily\footnotesize,
	backgroundcolor=\color{Yellow!5}
}


%%-----------------------------------------------------------------------
% Define month
%%-----------------------------------------------------------------------

\def\monthdis{April 2015}

\makeglossaries

%%-----------------------------------------------------------------------
% Document
%%-----------------------------------------------------------------------


\begin{document}%
\selectlanguage{german}%
\renewcommand{\indexname}{Index}%
\topmargin15.0mm
\include{tex/title}
\frontmatter%   %% front matter will be numbered in small Roman letters

%%-----------------------------------------------------------------------


\include{tex/prefacea}%
\include{tex/abstracta}%
\selectlanguage{ngerman}%
\include{tex/kurzzfsg}%
\selectlanguage{german}%


%%-----------------------------------------------------------------------
% Define Header for Content chapter
%%-----------------------------------------------------------------------


\makeatletter
\def\tableofcontents{\chapter*{\contentsname\@mkboth{\contentsname}{\contentsname}}
  \@starttoc{toc}}
\makeatother

\clearpage%
\tableofcontents
\clearpage
\listoffigures
\clearpage
\lstlistoflistings %\listoftables
\clearpage 
\chapter{Akronyme}
\begin{acronym}
  \acro{SPS}{Speicherprogrammierbare Steuerung}
  \acro{KOP}{Kontaktplan}
  \acro{FBS}{Funktionsbausteinsprache}
  \acro{AWL}{Anweisungsliste}
  \acro{ST}{Strukturierter Text}
  \acro{VBA}{Visual Basic for Applications}
  \acro{VSTA}{Visual Studio Tools for Applications}  
  \acro{HMI}{Human Machine Interface}
  \acro{XML}{eXtensible Markup Language}
  \acro{XMI}{XML Metadata Interchange}
  \acro{SCADA}{Supervisory Control and Data Acquisition}
  \acro{UML}{Unified Modeling Language}
  \acro{OWL}{Web Ontology Language}
  \acro{RDF}{Resource Description Framework}
  \acro{PRIA}{Practical Robotics Institute Austria}
  \acro{BatMAS}{Batch Process Automation with an Ontology-driven Multi-Agent System}
  \acro{DIN}{Deutsches Institut für Normung}
  \acro{EN}{Europäische Norm}
  \acro{IEC}{International Electrotechnical Commission}
  \acro{CPU}{Central Processing Unit}
  \acro{PS}{Power Supply}
\end{acronym}

\clearpage
\markboth{Contents}{Contents}


%\addcontentsline{toc}{chapter}{\numberline{}\listfigurename}%
%\listoffigures
%\listoftables%
%\addcontentsline{toc}{chapter}{\numberline{}\listtablename}%
\clearpage%


\include{tex/nomenclature}
\markboth{\nomname}{\nomname}%
\addcontentsline{toc}{chapter}{\numberline{}\nomname}%
\printnomenclature


\mainmatter%   %% main part will be numbered in Arabic letter


% include chapters
\include{tex/chapter1}%
\include{tex/chapter2}%
\include{tex/chapter3}%
\include{tex/chapter4}%
\include{tex/chapter5}%
\include{tex/chapter6}%


\addcontentsline{toc}{chapter}{Glossar} 
\printglossary[type=\acronymtype]
\glsaddall

\printglossary[type=\acronymtype]
%\printglossary[type=\acronymtype,style=listwithwidth]


%% include appendix
\begin{appendix}
\include{tex/appendix}%
\end{appendix}

% Use of the sorted IEEE style, with changes:
% "dashification" was disabled


\cleardoublepage

% IEEE Style
\bibliographystyle{sty/IEEEtranS}

% GATHER
%\input "bib_file.bib"
\phantomsection{}
\addcontentsline{toc}{chapter}{\bibname}
\pagestyle{myheadings}\markboth{\bibname}{\bibname}
\bibliography{tex/bib_file}

%%% generate index
%\clearpage%
%\markboth{\indexname}{\indexname}%
%\printindex%
%\addcontentsline{toc}{chapter}{\numberline{}\indexname}%

%% include affidavit
\include{tex/eid}%



\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% End Dokument %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
